<section>
  @if(!loading) {
  <div class="rooms">
    @for (room of rooms; track $index) {
    <app-room-card
      [room]="room"
      [players]="playersByRoom[room.id!]"
      (deleteEvent)="deleteRoom(room.id!)"
    ></app-room-card>
    }
  </div>
  <div class="button-container">
    <button type="button" (click)="addRoom()" title="Ajouter">
      <i class="bx bx-plus"></i>
      <span class="text">Ajouter</span>
    </button>
  </div>
  <form class="player">
    <mat-form-field>
      <mat-select [(ngModel)]="selectedPlayer" name="game" class="cap">
        @for (player of players; track $index) {
        <mat-option [value]="player" class="cap-option">
          {{ player.username }} {{ player.animal }}
        </mat-option>
        }
      </mat-select>
    </mat-form-field>
  </form>
  @if (selectedPlayer) {
  <app-player-card
    [player]="selectedPlayer"
    (updateEvent)="openUserDialog()"
  ></app-player-card>
  } } @else {
  <mat-spinner></mat-spinner>
  }
</section>
